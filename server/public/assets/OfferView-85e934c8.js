import{u as V,a6 as $,a as z,o as i,c as u,b as e,e as l,f as o,j as d,d as c,t as s,s as b,a7 as T,r as h,L as x,B as f,F as N,g as w,ab as k}from"./index-a8803775.js";import{s as g}from"./rating.esm-56383d1c.js";import{_ as v}from"./Title-2c126702.js";const I={class:"tour-form"},F={class:"form-row tour-form-row"},U={class:"p-float-label"},D=e("label",{for:"last_name"},"Nume",-1),O={class:"p-float-label"},B=e("label",{for:"first_name"},"Prenume",-1),C={class:"form-row tour-form-row"},P={class:"p-float-label"},L=e("label",{for:"email"},"Email",-1),S={class:"p-float-label"},j=e("label",{for:"phone"},"Telefon",-1),A={class:"form-row tour-form-row"},E={class:"p-float-label"},M=e("label",{for:"adults"},"Adulti",-1),q={class:"p-float-label"},G=e("label",{for:"children"},"Copii",-1),H={class:"tour-form-info"},J={__name:"TourForm",setup(y){const n=V(),_=$(),t=z();function m(p){p.preventDefault();const a={firstName:t.tourRezervation.firstName,lastName:t.tourRezervation.lastName,email:t.tourRezervation.email,phone:t.tourRezervation.phone,adults:t.tourRezervation.adults,children:t.tourRezervation.children,tourName:t.rezervationTour.title};try{T.post(`${t.url}/newRezervationTour`,a).then(r=>{r.status===200&&(t.setTour(r.data.tour),_.add({severity:"success",summary:"Succes",detail:"Rezervare realizata cu succes!",life:3e3}),n.push({name:"offers"}),setTimeout(()=>{window.location.reload()},1e3))})}catch(r){console.log(r)}}return(p,a)=>(i(),u("form",I,[e("div",F,[e("span",U,[l(o(d),{id:"last_name",type:"text",modelValue:o(t).tourRezervation.lastName,"onUpdate:modelValue":a[0]||(a[0]=r=>o(t).tourRezervation.lastName=r)},null,8,["modelValue"]),D]),e("span",O,[l(o(d),{id:"first_name",type:"text",modelValue:o(t).tourRezervation.firstName,"onUpdate:modelValue":a[1]||(a[1]=r=>o(t).tourRezervation.firstName=r)},null,8,["modelValue"]),B])]),e("div",C,[e("span",P,[l(o(d),{id:"email",type:"text",modelValue:o(t).tourRezervation.email,"onUpdate:modelValue":a[2]||(a[2]=r=>o(t).tourRezervation.email=r)},null,8,["modelValue"]),L]),e("span",S,[l(o(d),{id:"phone",type:"text",modelValue:o(t).tourRezervation.phone,"onUpdate:modelValue":a[3]||(a[3]=r=>o(t).tourRezervation.phone=r)},null,8,["modelValue"]),j])]),e("div",A,[e("span",E,[l(o(d),{id:"adults",type:"number",modelValue:o(t).tourRezervation.adults,"onUpdate:modelValue":a[4]||(a[4]=r=>o(t).tourRezervation.adults=r)},null,8,["modelValue"]),M]),e("span",q,[l(o(d),{id:"children",type:"number",modelValue:o(t).tourRezervation.children,"onUpdate:modelValue":a[5]||(a[5]=r=>o(t).tourRezervation.children=r)},null,8,["modelValue"]),G])]),e("span",H,[e("ul",null,[e("li",null,[c(" Circuit: "),e("span",null,s(o(t).rezervationTour.title),1)]),e("li",null,[c(" Persoane: "),e("span",null,s(parseInt(o(t).tourRezervation.adults,10)+parseInt(o(t).tourRezervation.children,10)),1)]),e("li",null,[c(" Pret: "),e("span",null,s(parseInt(o(t).rezervationTour.price,10)*parseInt(o(t).tourRezervation.adults,10)+parseInt(o(t).tourRezervation.children,10))+" €",1)])])]),l(o(b),{label:"Rezervare",onClick:m})]))}};const K={class:"current-offer-wrapper"},Q={class:"current-offer-container"},W=["src"],X={class:"current-offer-info"},Y={class:"current-offer-detail current-offer-title"},Z={class:"current-offer-detail current-offer-location"},ee={class:"current-offer-detail current-offer-duration"},te={key:0},oe={key:0},re={key:1},ae={key:0,class:"current-offer-details"},se=e("div",{class:"current-offer-detail current-offer-facilities"}," Facilitati: ",-1),le={class:"tour-dates"},ne={class:"current-offer-detail current-offer-price"},ie=e("div",{class:"current-offer-price-text"},"Incepand de la",-1),ue={class:"current-offer-price-value"},ce=e("span",{class:"current-offer-price-detail"},"€",-1),de=e("span",{class:"current-offer-price-text"},"per adult",-1),fe={class:"current-offer-desc"},_e={class:"current-offer-form"},pe={key:0},me={key:1},ye={__name:"OfferView",setup(y){const n=z(),_=h(0),t=h({});x(()=>{switch(n.offerType){case"offer":t.value=n.rezervationOffer;break;case"tour":t.value=n.rezervationTour;break}t!==null&&(_.value=parseInt(t.value.rating,10))}),console.log(t.value);const m=()=>{if(t.details!==void 0)return t.details.split(",").filter(p=>p!==" ")};return(p,a)=>(i(),u("div",K,[l(v,{text:"Oferta"}),e("section",Q,[e("img",{src:t.value.img},null,8,W),e("section",X,[e("div",Y,s(t.value.title),1),e("div",Z,s(t.value.location)+" "+s(t.value.country),1),l(o(g),{modelValue:_.value,"onUpdate:modelValue":a[0]||(a[0]=r=>_.value=r),stars:5,readonly:"",cancel:!1},null,8,["modelValue"]),e("div",ee,[c(" Durata "),o(n).offerType==="offer"?(i(),u("span",te,"sejur")):f("",!0),c(": "),e("span",null,[c(s(t.value.duration)+" ",1),o(n).offerType==="offer"?(i(),u("span",oe,"nopti")):f("",!0),o(n).offerType==="tour"?(i(),u("span",re,"zile")):f("",!0)])]),o(n).offerType==="offer"?(i(),u("section",ae,[se,e("ul",null,[(i(!0),u(N,null,w(m(),(r,R)=>(i(),u("li",{key:R},s(r),1))),128))])])):f("",!0),e("section",le,[e("ul",null,[e("li",null,[c(" Plecare - "),e("span",null,s(t.value.departure),1)]),e("li",null,[c(" Intoarcere - "),e("span",null,s(t.value.arrival),1)]),e("li",null,[c(" Locuri disponibile: "),e("span",null,s(t.value.available),1)])])]),e("section",ne,[ie,e("div",ue,[c(s(t.value.price)+" ",1),ce]),de])])]),e("div",fe,[l(v,{text:"Descriere"}),e("p",null,s(t.value.description),1)]),e("div",_e,[l(v,{text:"Formular rezervare"}),o(n).offerType==="offer"?(i(),u("div",pe,[l(k)])):f("",!0),o(n).offerType==="tour"?(i(),u("div",me,[l(J)])):f("",!0)])]))}};export{ye as default};
